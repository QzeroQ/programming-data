# 第一章：简介

进程通讯机制：套接字，信号出处理器，共享内存，信号量，文件。

为什么要有多线程：
- 资源利用率，防止串行等待
- 公平性利用时间切片快速切换
- 便利性，高效率的人总能在串行性欲异步性之间找到合理的平衡

## 线程

- 一个应用程序最后有一个进程，一个进程最少有一个线程
- 多个线程共享进程范围内的资源，内存句柄或文件句柄
- 每个线程都有自己的程序计数器，栈，以及局部变量，同一个进程的多个线程也可以同时调度到多个cpu上执行

## 线程的优势

- 发挥多核处理器的强大能力，单线程对多核来说是一种浪费
- 建模的简单性，每一个工作流都有单独的线程处理，不需要关心阻塞

## 线程的风险

- 安全性 没有同步的情况下，多个线程的操作顺序不可预测
    - 理解一个简单的算法过程：`int a = 1 ； a ++；`其过程有三步：1 读取变量a，2 将a+1(如果需要返回结果，会先将原来的a返回)； 3 将计算结果写入a
- 活跃性问题：**安全性**就是：永远不发生糟糕的事情 ， **活跃性**是：某个正确的事情最终会发生，当某个操作无法继续执行就会发生活跃性问题，比如无限循环，死锁等
- 性能问题，线程是有开销的，这个问题与相应灵敏，吞吐量，资源消耗管理
